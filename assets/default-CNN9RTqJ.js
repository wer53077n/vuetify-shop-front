import{p as L,m as Y,f as j,g as A,h as D,b as l,i as se,j as ie,k as ee,l as te,n as ae,t as H,q as re,s as ue,v as le,x as ce,y as de,z as w,c as f,A as ve,V as oe,B as F,C as $,D as me,E as P,G as ge,H as E,I as fe,J as be,K as he,L as ye,M as ke,N as Ve,O as M,P as Se,Q as xe,R as p,S as _e,T as Be,U as Te,W as Ce,X as we,Y as Ne,Z as pe,_ as Le,$ as Ie,a0 as Pe,a1 as He,a2 as Ae,a3 as De,a4 as Re,u as $e,a5 as Ee,r as X,o as u,a as N,d as B,a6 as k,w as m,F as I,e as q,a7 as x,a8 as U,a9 as O,aa as Z,ab as G,ac as Ue,ad as Me}from"./index-B6C-OAFi.js";import Fe from"./login-OSQvRkKz.js";import Ye from"./register-BVkTF-NY.js";import{u as je,a as J,V as ze}from"./VList-BCYrwt2R.js";import{V as We,a as Xe}from"./VNavigationDrawer-DmJ-XW1o.js";import{V as qe}from"./VCol-BUbm-Whd.js";import"./vee-validate.esm-BTG1ocXg.js";import"./index-BhZWKZOw.js";import"./VForm-Q1p4M4qT.js";import"./VRow--ZGpWkJM.js";import"./VDivider-DT69kc00.js";const Oe=L({text:String,...Y(),...j()},"VToolbarTitle"),Ze=A()({name:"VToolbarTitle",props:Oe(),setup(e,c){let{slots:t}=c;return D(()=>{const g=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[g&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(r=t.default)==null?void 0:r.call(t)])]}})}),{}}}),Ge=[null,"prominent","default","comfortable","compact"],ne=L({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ge.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...se(),...Y(),...ie(),...ee(),...j({tag:"header"}),...te()},"VToolbar"),K=A()({name:"VToolbar",props:ne(),setup(e,c){var h;let{slots:t}=c;const{backgroundColorClasses:g,backgroundColorStyles:r}=ae(H(e,"color")),{borderClasses:n}=re(e),{elevationClasses:d}=ue(e),{roundedClasses:v}=le(e),{themeClasses:b}=ce(e),{rtlClasses:V}=de(),s=w(!!(e.extended||(h=t.extension)!=null&&h.call(t))),o=f(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),S=f(()=>s.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ve({VBtn:{variant:"text"}}),D(()=>{var C;const a=!!(e.title||t.title),y=!!(t.image||e.image),_=(C=t.extension)==null?void 0:C.call(t);return s.value=!!(e.extended||_),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},g.value,n.value,d.value,v.value,b.value,V.value,e.class],style:[r.value,e.style]},{default:()=>[y&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(F,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(oe,{key:"image-img",cover:!0,src:e.image},null)]),l(F,{defaults:{VTabs:{height:$(o.value)}}},{default:()=>{var R,i,T;return[l("div",{class:"v-toolbar__content",style:{height:$(o.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(R=t.prepend)==null?void 0:R.call(t)]),a&&l(Ze,{key:"title",text:e.title},{text:t.title}),(i=t.default)==null?void 0:i.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(T=t.append)==null?void 0:T.call(t)])])]}}),l(F,{defaults:{VTabs:{height:$(S.value)}}},{default:()=>[l(me,null,{default:()=>[s.value&&l("div",{class:"v-toolbar__extension",style:{height:$(S.value)}},[_])]})]})]})}),{contentHeight:o,extensionHeight:S}}}),Je=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ke(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=c;let g=0,r=0;const n=P(null),d=w(0),v=w(0),b=w(0),V=w(!1),s=w(!1),o=f(()=>Number(e.scrollThreshold)),S=f(()=>ge((o.value-d.value)/o.value||0)),h=()=>{const a=n.value;if(!a||t&&!t.value)return;g=d.value,d.value="window"in a?a.pageYOffset:a.scrollTop;const y=a instanceof Window?document.documentElement.scrollHeight:a.scrollHeight;if(r!==y){r=y;return}s.value=d.value<g,b.value=Math.abs(d.value-o.value)};return E(s,()=>{v.value=v.value||d.value}),E(V,()=>{v.value=0}),fe(()=>{E(()=>e.scrollTarget,a=>{var _;const y=a?document.querySelector(a):window;y&&y!==n.value&&((_=n.value)==null||_.removeEventListener("scroll",h),n.value=y,n.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),be(()=>{var a;(a=n.value)==null||a.removeEventListener("scroll",h)}),t&&E(t,h,{immediate:!0}),{scrollThreshold:o,currentScroll:d,currentThreshold:b,isScrollActive:V,scrollRatio:S,isScrollingUp:s,savedScroll:v}}const Qe=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ne(),...he(),...Je(),height:{type:[Number,String],default:64}},"VAppBar"),et=A()({name:"VAppBar",props:Qe(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const g=P(),r=ye(e,"modelValue"),n=f(()=>{var T;const i=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:i.has("hide"),fullyHide:i.has("fully-hide"),inverted:i.has("inverted"),collapse:i.has("collapse"),elevate:i.has("elevate"),fadeImage:i.has("fade-image")}}),d=f(()=>{const i=n.value;return i.hide||i.fullyHide||i.inverted||i.collapse||i.elevate||i.fadeImage||!r.value}),{currentScroll:v,scrollThreshold:b,isScrollingUp:V,scrollRatio:s}=Ke(e,{canScroll:d}),o=f(()=>n.value.hide||n.value.fullyHide),S=f(()=>e.collapse||n.value.collapse&&(n.value.inverted?s.value>0:s.value===0)),h=f(()=>e.flat||n.value.fullyHide&&!r.value||n.value.elevate&&(n.value.inverted?v.value>0:v.value===0)),a=f(()=>n.value.fadeImage?n.value.inverted?1-s.value:s.value:void 0),y=f(()=>{var z,W;const i=Number(((z=g.value)==null?void 0:z.contentHeight)??e.height),T=Number(((W=g.value)==null?void 0:W.extensionHeight)??0);return o.value?v.value<b.value||n.value.fullyHide?i+T:i:i+T});ke(f(()=>!!e.scrollBehavior),()=>{Se(()=>{o.value?n.value.inverted?r.value=v.value>b.value:r.value=V.value||v.value<b.value:r.value=!0})});const{ssrBootStyles:_}=je(),{layoutItemStyles:C,layoutIsReady:R}=Ve({id:e.name,order:f(()=>parseInt(e.order,10)),position:H(e,"location"),layoutSize:y,elementSize:w(void 0),active:r,absolute:H(e,"absolute")});return D(()=>{const i=K.filterProps(e);return l(K,M({ref:g,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...C.value,"--v-toolbar-image-opacity":a.value,height:void 0,..._.value},e.style]},i,{collapse:S.value,flat:h.value}),t)}),R}}),tt=L({...xe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),at=A()({name:"VAppBarNavIcon",props:tt(),setup(e,c){let{slots:t}=c;return D(()=>l(p,M(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),lt=L({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:_e,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Y(),...Be({location:"top end"}),...ee(),...j(),...te(),...Te({transition:"scale-rotate-transition"})},"VBadge"),Q=A()({name:"VBadge",inheritAttrs:!1,props:lt(),setup(e,c){const{backgroundColorClasses:t,backgroundColorStyles:g}=ae(H(e,"color")),{roundedClasses:r}=le(e),{t:n}=Ce(),{textColorClasses:d,textColorStyles:v}=we(H(e,"textColor")),{themeClasses:b}=Ne(),{locationStyles:V}=pe(e,!0,s=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(s)?+(e.offsetY??0):["left","right"].includes(s)?+(e.offsetX??0):0));return D(()=>{const s=Number(e.content),o=!e.max||isNaN(s)?e.content:s<=+e.max?s:`${e.max}+`,[S,h]=Le(c.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return l(e.tag,M({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},h,{style:e.style}),{default:()=>{var a,y;return[l("div",{class:"v-badge__wrapper"},[(y=(a=c.slots).default)==null?void 0:y.call(a),l(Ie,{transition:e.transition},{default:()=>{var _,C;return[Pe(l("span",M({class:["v-badge__badge",b.value,t.value,r.value,d.value],style:[g.value,v.value,e.inline?{}:V.value],"aria-atomic":"true","aria-label":n(e.label,s),"aria-live":"polite",role:"status"},S),[e.dot?void 0:c.slots.badge?(C=(_=c.slots).badge)==null?void 0:C.call(_):e.icon?l(Ae,{icon:e.icon},null):o]),[[He,e.modelValue]])]}})])]}})}),{}}}),ot=""+new URL("umemuro-background-D1NpyZYF.jpg",import.meta.url).href,nt={key:1,class:"d-flex justify-center align-center"},st={__name:"default",setup(e){const{mobile:c}=Re(),t=$e(),g=Ee(),r=P(!1),n=P(!1),d=P("login"),v=f(()=>[{to:"/",title:"嚴選食材",icon:null,show:t.isLogin},{to:"/",title:"好料菜單",icon:null,show:t.isLogin},{to:"/",title:"梅室在哪",icon:null,show:t.isLogin},{to:"/shop",title:"梅室周邊",icon:null,show:t.isLogin},{to:"/reserve",title:"預約服務",icon:null,show:t.isLogin},{to:"/cart",icon:"mdi-cart",show:t.isLogin},{to:"/admin",title:"管理",icon:null,show:t.isLogin&&t.isAdmin}]),b=async()=>{await t.logout(),g({text:"登出成功",snackbarProps:{color:"green"}})},V=s=>{d.value=s,n.value=!0};return(s,o)=>{const S=X("router-link"),h=X("router-view");return u(),N(I,null,[B(c)?(u(),k(We,{key:0,modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=a=>r.value=a)},{default:m(()=>[l(ze,{nav:""},{default:m(()=>[(u(!0),N(I,null,q(v.value,a=>(u(),N(I,{key:a.to},[a.show?(u(),k(J,{key:0,"prepend-icon":a.icon,to:a.to,title:a.title},{append:m(()=>[a.to==="/cart"&&B(t).cart>0?(u(),k(Q,{key:0,color:"error",content:B(t).cart,inline:""},null,8,["content"])):x("",!0)]),_:2},1032,["prepend-icon","to","title"])):x("",!0)],64))),128)),B(t).isLogin?(u(),k(J,{key:0,"prepend-icon":"mdi-account-arrow-right",title:"登出",onClick:b})):x("",!0)]),_:1})]),_:1},8,["modelValue"])):x("",!0),l(et,{image:ot,elevation:0},{default:m(()=>[l(qe,{class:"d-flex justify-center"},{default:m(()=>[B(c)?(u(),k(at,{key:0,onClick:o[1]||(o[1]=a=>r.value=!0)})):(u(),N("div",nt,[(u(!0),N(I,null,q(v.value,a=>(u(),N(I,{key:a.to},[a.show?(u(),k(S,{key:0,to:a.to},{default:m(()=>[l(oe),l(p,{"prepend-icon":a.icon,class:"nav-link","text-center":""},{default:m(()=>[U(Me(a.title)+" ",1),a.to==="/cart"&&B(t).cart>0?(u(),k(Q,{key:0,color:"red",content:B(t).cart,floating:""},null,8,["content"])):x("",!0)]),_:2},1032,["prepend-icon"])]),_:2},1032,["to"])):x("",!0)],64))),128)),B(t).isLogin?(u(),k(p,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:b,class:"nav-link"},{default:m(()=>[U(" 登出 ")]),_:1})):x("",!0),B(t).isLogin?x("",!0):(u(),k(p,{key:1,onClick:o[2]||(o[2]=a=>V("register")),class:"nav-link"},{default:m(()=>[U(" 註冊 ")]),_:1})),B(t).isLogin?x("",!0):(u(),k(p,{key:2,onClick:o[3]||(o[3]=a=>V("login")),class:"nav-link"},{default:m(()=>[U(" 登入 ")]),_:1}))]))]),_:1})]),_:1}),l(Ue,{modelValue:n.value,"onUpdate:modelValue":o[7]||(o[7]=a=>n.value=a),"max-width":"400px"},{default:m(()=>[d.value==="register"?(u(),k(G,{key:0},{default:m(()=>[l(O,{class:"headline"}),l(Z,null,{default:m(()=>[l(Ye,{onCloseDialog:o[4]||(o[4]=a=>n.value=!1)})]),_:1})]),_:1})):x("",!0),d.value==="login"?(u(),k(G,{key:1},{default:m(()=>[l(O,{class:"headline"}),l(p,{class:"text-right",icon:"mdi-close",variant:"text",onCloseDialog:o[5]||(o[5]=a=>n.value=!1)}),l(Z,null,{default:m(()=>[l(Fe,{onCloseDialog:o[6]||(o[6]=a=>n.value=!1)})]),_:1})]),_:1})):x("",!0)]),_:1},8,["modelValue"]),l(Xe,null,{default:m(()=>[l(h)]),_:1})],64)}}},yt=De(st,[["__scopeId","data-v-49cce111"]]);export{yt as default};
